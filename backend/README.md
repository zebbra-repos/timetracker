# Timetracker Backend

<div align="center">
  <strong>
    Timetracker software for the<a href="https://www.medi.ch/"> medi </a>company
  </strong>
</div>
<div align="center">The project is generated by <a href="http://loopback.io">LoopBack</a>.</div>

<br />

<div align="center">
  <!-- Build Status -->
  <a href="https://travis-ci.org/zebbra-repos/Zeiterfassung-medi-server">
    <img src="https://travis-ci.org/zebbra-repos/Zeiterfassung-medi-server.svg"
    alt="Build Status" />
  </a>
</div>

<br />

<div align="center">
  <sub>
    Created by <a href="http://zebbra.ch">zebbra AG</a> and maintained with ❤️
    by an amazing
    <a href="https://github.com/orgs/zebbra/people">team of developers</a>.
  </sub>
</div>

## Tech-Stack

- [Node.js](https://nodejs.org/en/) v10.x
- [Yarn](https://yarnpkg.com/lang/en/) v1.x
- [mongoDB](https://www.mongodb.com/) v3.x

## Development

### Setup

```bash
cd backend
yarn install
yarn run db:seed
```

### Testing

```bash
yarn test
```

## Cronjobs

In production the cron jobs are started automatically. For development use:

```bash
yarn run cron:start
```

## Environment Variables

### Database

- `MONGO_URL` the mongodb instance to connect to (e.g. `mongodb://localhost:27017/timetracker?auto_reconnect=true`)

### Sendgrid

- `SENDGRID_PASS` the smtp auth password (default to `undefined` e.g. no auth)

### Sentry

- `SENTRY_DSN` private sentry dsn key for express server

### Logging

- `DEBUG` what message to log (e.g. `*,-loopback:connector:mongodb*`)

### New Relic

- `NEW_RELIC_KEY` the new relic access key
